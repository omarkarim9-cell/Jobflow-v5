Profiles table schema

id						TEXT						PRIMARY KEY
email					TEXT						UNIQUE
full_name				TEXT	
resume_content			TEXT
preferences				JSONB						DEFAULT'{"language":"en", "notifications": true}'
connected_accounts		JSONB						DEFAULT'{}'
plan					TEXT						DEFAULT'free'
daily_ai_credits		INTEGER						DEFAULT5
total_ai_used			INTEGER						DEFAULT0
updated_at				TIMESTAMP WITH TIME ZONE	DEFAULTnow()
phone					TEXT						DEFAULT''
resume_file_name		TEXT						DEFAULT''
clerk_user_id			TEXT						UNIQUE
onboarded_at			TIMESTAMP WITH TIME ZONE

CONSTRAINT	profiles_clerk_user_id_key		UNIQUE	(clerk_user_id)
CONSTRAINT  profiles_email_key				UNIQUE	(email)
CONSTRAINT	profiles_pkey					PRIMARY KEY	(id)

Indexes

UNIQUE	INDEX	profiles_clerk_user_id_key	…	USING	BTREE(clerk_user_id)
INDEX			profiles_email_idx			…	USING	BTREE(email)
UNIQUE	INDEX	profiles_email_key			…	USING	BTREE(email)
UNIQUE	INDEX	profiles_pkey				…	USING	BTREE(id)

Jobs table schema

id				TEXT	PRIMARY KEY					DEFAULT(gen_random_uuid())
user_id			TEXT	NOT NULL
title			TEXT	
company			TEXT
description		TEXT
status			TEXT								DEFAULT'saved'
source			TEXT
application_url	TEXT
custom_resume	TEXT
cover_letter	TEXT
match_score		INTEGER	data		JSONB			DEFAULT'{}'
created_at		TIMESTAMP WITH TIME ZONE			DEFAULTnow()
updated_at		TIMESTAMP WITH TIME ZONE			DEFAULTnow()


CONSTRAINT		jobs_user_id_fkey	FOREIGN KEY	(user_id)	REFERENCES	public.profiles	(id)	ON DELETECASCADE
CONSTRAINT		jobs_pkey			PRIMARY KEY	(id)

Indexes

UNIQUE			INDEX		jobs_pkey	…	USING	BTREE	(id)
INDEX			jobs_status_idx			…	USING	BTREE	(status)
INDEX			jobs_user_id_idx		…	USING	BTREE	(user_id)